{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zhiro\\\\client-starter-code\\\\src\\\\components\\\\containers\\\\EditCampusContainer.js\";\nimport Header from './Header';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport { fetchCampusThunk, editCampusThunk } from '../../store/thunks';\nimport { EditCampusView } from '../views';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault();\n\n      // Basic validation\n      if (!this.state.name || !this.state.address) {\n        alert('Name and address are required!');\n        return;\n      }\n      const campusData = {\n        id: this.props.match.params.id,\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl\n      };\n      try {\n        await this.props.editCampus(campusData);\n        this.setState({\n          redirect: true,\n          redirectId: this.props.match.params.id\n        });\n      } catch (error) {\n        console.error(\"Error updating campus:\", error);\n        alert('Failed to update campus. Please try again.');\n      }\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      redirect: false,\n      redirectId: null,\n      loading: true\n    };\n  }\n  componentDidMount() {\n    this.props.fetchCampus(this.props.match.params.id).then(() => {\n      // Set initial form values from fetched campus data\n      const {\n        campus\n      } = this.props;\n      this.setState({\n        name: campus.name,\n        address: campus.address,\n        description: campus.description || \"\",\n        imageUrl: campus.imageUrl || \"\",\n        loading: false\n      });\n    });\n  }\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/campus/${this.state.redirectId}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 14\n      }, this);\n    }\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px'\n          },\n          children: \"Loading campus data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditCampusView, {\n        campus: this.state,\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapState = state => {\n  return {\n    campus: state.campus\n  };\n};\nconst mapDispatch = dispatch => {\n  return {\n    fetchCampus: id => dispatch(fetchCampusThunk(id)),\n    editCampus: campus => dispatch(editCampusThunk(campus))\n  };\n};\nexport default withRouter(connect(mapState, mapDispatch)(EditCampusContainer));","map":{"version":3,"names":["Header","Component","connect","withRouter","Redirect","fetchCampusThunk","editCampusThunk","EditCampusView","jsxDEV","_jsxDEV","EditCampusContainer","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","state","address","alert","campusData","id","match","params","description","imageUrl","editCampus","redirect","redirectId","error","console","loading","componentDidMount","fetchCampus","then","campus","render","to","fileName","_jsxFileName","lineNumber","columnNumber","children","style","textAlign","padding","mapState","mapDispatch","dispatch"],"sources":["C:/Users/zhiro/client-starter-code/src/components/containers/EditCampusContainer.js"],"sourcesContent":["import Header from './Header';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { fetchCampusThunk, editCampusThunk } from '../../store/thunks';\r\nimport { EditCampusView } from '../views';\r\n\r\nclass EditCampusContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      address: \"\",\r\n      description: \"\",\r\n      imageUrl: \"\",\r\n      redirect: false,\r\n      redirectId: null,\r\n      loading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchCampus(this.props.match.params.id)\r\n      .then(() => {\r\n        // Set initial form values from fetched campus data\r\n        const { campus } = this.props;\r\n        this.setState({\r\n          name: campus.name,\r\n          address: campus.address,\r\n          description: campus.description || \"\",\r\n          imageUrl: campus.imageUrl || \"\",\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    \r\n    // Basic validation\r\n    if (!this.state.name || !this.state.address) {\r\n      alert('Name and address are required!');\r\n      return;\r\n    }\r\n\r\n    const campusData = {\r\n      id: this.props.match.params.id,\r\n      name: this.state.name,\r\n      address: this.state.address,\r\n      description: this.state.description,\r\n      imageUrl: this.state.imageUrl\r\n    };\r\n    \r\n    try {\r\n      await this.props.editCampus(campusData);\r\n      this.setState({\r\n        redirect: true,\r\n        redirectId: this.props.match.params.id\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating campus:\", error);\r\n      alert('Failed to update campus. Please try again.');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={`/campus/${this.state.redirectId}`} />;\r\n    }\r\n\r\n    if (this.state.loading) {\r\n      return (\r\n        <div>\r\n          <Header />\r\n          <div style={{ textAlign: 'center', padding: '40px' }}>\r\n            Loading campus data...\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <EditCampusView \r\n          campus={this.state}\r\n          handleChange={this.handleChange}\r\n          handleSubmit={this.handleSubmit}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    campus: state.campus,\r\n  };\r\n};\r\n\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\r\n    editCampus: (campus) => dispatch(editCampusThunk(campus)),\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapState, mapDispatch)(EditCampusContainer));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}